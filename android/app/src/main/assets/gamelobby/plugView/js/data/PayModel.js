var _a,_b,PayMentJumpType;!function(a){a[a.URL=1]="URL",a[a.IMG=2]="IMG",a[a.FROM=3]="FROM",a[a.XML=4]="XML",a[a.HTML=5]="HTML"}(PayMentJumpType||(PayMentJumpType={}));var VipPayType;!function(a){a[a.OTHER=0]="OTHER",a[a.ALIPAY=1]="ALIPAY",a[a.WECHAT=2]="WECHAT",a[a.QQ=3]="QQ"}(VipPayType||(VipPayType={}));var PayType;!function(a){a[a.OTHER=0]="OTHER",a[a.BANK=1]="BANK",a[a.ZHB=2]="ZHB",a[a.JD=3]="JD",a[a.VIP=4]="VIP",a[a.QQ=5]="QQ",a[a.FIXED_WX=6]="FIXED_WX",a[a.WX=7]="WX",a[a.WX_PUBLIC=8]="WX_PUBLIC",a[a.FIXED_QQ=9]="FIXED_QQ",a[a.ONLINEBANK=10]="ONLINEBANK",a[a.THIRD_PARTY=11]="THIRD_PARTY",a[a.FIXED_ZHB=12]="FIXED_ZHB"}(PayType||(PayType={}));var ThreeType;!function(a){a[a.vip=1]="vip",a[a.fixedMoney=2]="fixedMoney",a[a.otherTransfer=3]="otherTransfer",a[a.bankTransfer=4]="bankTransfer",a[a.wechatPublic=5]="wechatPublic"}(ThreeType||(ThreeType={}));var PayModel=function(){function a(){}return a.checkType=function(a){var e=PayType[a];if(void 0==e)return null;switch(e){case PayType.VIP:return ThreeType.vip;case PayType.FIXED_WX:case PayType.FIXED_QQ:case PayType.FIXED_ZHB:return ThreeType.fixedMoney;case PayType.BANK:return ThreeType.bankTransfer;case PayType.WX_PUBLIC:return ThreeType.wechatPublic}return ThreeType.otherTransfer},a.getPayList=function(a,e){var t=this;this.useCache&&this.payList?a&&e&&e.call(a):(LoadingView.show(),HttpRequester.getHttpData(Common.httpCmd.payList,this,function(n,i){LoadingView.hide(),n&&(t.payList=i,a&&e&&e.call(a))},"&version=5"))},a.getPayment=function(a,e,t){if(this.useCache&&this.paySubMap[a])e&&t&&t.call(e,this.paySubMap[a]);else{var n=this.otherPayList.filter(function(e){return e.type==a});if(a==PayType[PayType.ONLINEBANK]){var i=PayType[PayType.THIRD_PARTY],p=this.otherPayList.filter(function(a){return a.type==i});n=n.concat(p)}if(this.backAndOrList){var y=this.backAndOrList.filter(function(e){return e.bankCode==a});Debug.log("合并数据：",y),y.forEach(function(a){a.isCombine=!0,n.push({combineVo:a})})}this.paySubMap[a]=n,e&&t&&t.call(e,n)}},a.getBanktransfers=function(a,e,t){var n=this;this.useCache&&this.backAndOrList?e&&t&&t.call(e):(LoadingView.show(),HttpRequester.getHttpData(Common.httpCmd.banktransfers,this,function(a,i){a&&(n.backAndOrList=i,Debug.log("bankList:",i),n.bankSubList=n.backAndOrList.filter(function(a){return void 0==a.bankCode})),n.getOtherPayList(e,t)}))},a.getOtherPayList=function(a,e){var t=this;HttpRequester.getHttpData(Common.httpCmd.payment,this,function(n,i){LoadingView.hide(),n&&(Debug.log("otherList:",i),t.otherPayList=i,a&&e&&e.call(a))})},a.payByBankList=function(a,e,t,n,i){LoadingView.show();var p={adminBankId:a.adminBankId,topupAmount:e};t&&(p.depositorName=t),a.isCombine||(p.transferTopupType="BANK_ONLINE"),HttpRequester.putHttpData(Common.httpCmd.payByBankList,p,this,function(a,e){LoadingView.hide(),n&&i&&i.call(n,a,e)})},a.payByListV2=function(a,e,t,n,i){var p={paymentId:a.paymentId,paymentType:a.paymentType,topupAmount:e};a.platform&&(p.paymentType="THIRD"),t&&(t.cardNo&&(p.cardNo=t.cardNo),t.mobileNo&&(p.mobileNo=t.mobileNo),t.realName&&(p.realName=t.realName),a.platform&&(t.bankCode&&(p.bankCode=t.bankCode),t.cardType&&(p.cardType=t.cardType))),Debug.log("ListV2支付:",p),LoadingView.show(),HttpRequester.postHttpData(Common.httpCmd.payByListV2,p,this,function(a,e){LoadingView.hide(),n&&i&&i.call(n,a,e)})},a.getOnlineBankList=function(a,e,t){LoadingView.show();var n="&paymentSetId="+a;HttpRequester.getHttpData(Common.httpCmd.onlineBankList,this,function(a,n){LoadingView.hide(),e&&t&&t.call(e,a,n)},n)},a.getPayHistory=function(a,e){LoadingView.show(),HttpRequester.getHttpData(Common.httpCmd.payHistory,this,function(t,n){LoadingView.hide(),t&&a&&e&&e.call(a,n)},"&pageSize=20&start=0&state=&type=TOPUP")},a.getCurrentInfo=function(){var a=this;HttpRequester.getHttpData(Common.httpCmd.currentInfo,this,function(e,t){e&&(a.userInfo_current=t,EventManager.dispath(EventType.GETUSER_CURRENT))})},a.clear=function(){this.payList=null,this.paySubMap={},this.bankSubList=null,this.backAndOrList=null,this.otherPayList=null,this.userInfo_current=null},a.btnMark="cache_payBtn",a.useCache=!0,a.paySubMap={},a.tabIconMap=(_a={},_a[PayType.OTHER]="ui/pay/payicon10.png",_a[PayType.BANK]="ui/pay/payicon09.png",_a[PayType.ZHB]="ui/pay/payicon11.png",_a[PayType.JD]="ui/pay/payicon02.png",_a[PayType.VIP]="ui/pay/payicon05.png",_a[PayType.QQ]="ui/pay/payicon03.png",_a[PayType.FIXED_WX]="ui/pay/payicon07.png",_a[PayType.WX]="ui/pay/payicon06.png",_a[PayType.WX_PUBLIC]="ui/pay/payicon01.png",_a[PayType.FIXED_QQ]="ui/pay/payicon04.png",_a[PayType.ONLINEBANK]="ui/pay/payicon08.png",_a[PayType.FIXED_ZHB]="ui/pay/payicon12.png",_a),a.vipPayMap=(_b={},_b[VipPayType.ALIPAY]="支付宝",_b[VipPayType.WECHAT]="微信",_b[VipPayType.QQ]="QQ",_b),a.cardTypeMap={DC:"(储蓄卡)",CC:"(信用卡)"},a}();