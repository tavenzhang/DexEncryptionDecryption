var EventManager=function(){function t(){this.pool=new Laya.Dictionary,this.pushPool=new Laya.Dictionary,this.downPos=new Laya.Point}return Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!0,configurable:!0}),t.pushEvent=function(e,i,n,s,o){var a=t.inst,l=a.pushPool.get(n);l||(l=[]),e.on(i,n,s,o),l.push({target:e,type:i,thisobj:n,callback:s}),a.pushPool.set(n,l)},t.dispath=function(t,e){this.eventer.event(t,[e])},t.register=function(e,i,n){this.eventer.on(e,i,n),t.inst.registerInst(e,i,n)},t.prototype.registerInst=function(e,i,n){var s=this.pool.get(t.eventer);s||(s=[]);var o=s.filter(function(t){return t.thisobj==i}),a=o?o.filter(function(t){return t.type==e}):null;if(!(a&&a.length>0)){var l=new CustomObj(t.eventer,n,i,null,1);l.type=e,s.push(l),this.pool.set(t.eventer,s)}},t.addTouchScaleListener=function(e,i,n,s,o,a,l){void 0===s&&(s=null),void 0===o&&(o=1.05),void 0===l&&(l=!0),t.inst.addScaleListener(e,i,n,s,o,a,l)},t.removeBtnEvent=function(e){t.inst.removeEvent(e)},t.removeAllEvents=function(e){t.inst.removeAllEvents(e)},t.prototype.addScaleListener=function(t,e,i,n,s,o,a){if(void 0===n&&(n=null),void 0===s&&(s=1.05),void 0===a&&(a=!0),t){1==s?t.on(Laya.Event.CLICK,this,this.clickHandler):(t.on(Laya.Event.MOUSE_DOWN,this,this.onScaleTouch),t.on(Laya.Event.MOUSE_OUT,this,this.onScaleTouch),t.on(Laya.Event.MOUSE_UP,this,this.onScaleTouch));var l=this.pool.get(e);l||(l=[]),-1==l.indexOf(t)&&l.push(t),this.pool.set(t,new CustomObj(t,i,e,n,s,o,a)),this.pool.set(e,l)}},t.prototype.removeEvent=function(t){if(t){var e=this.pool.get(t);if(e){var i=this.pool.get(e.thisobj);if(i&&-1!=i.indexOf(t)){var n=i.indexOf(t);i.splice(n,1),0==i.length&&(this.pool.remove(e.thisobj),i=null)}1==e.sclNum?t.off(Laya.Event.CLICK,this,this.clickHandler):(t.off(Laya.Event.MOUSE_DOWN,this,this.onScaleTouch),t.off(Laya.Event.MOUSE_OUT,this,this.onScaleTouch),t.off(Laya.Event.MOUSE_UP,this,this.onScaleTouch)),this.pool.remove(e),e.dispose(),e=null}}},t.prototype.removeAllEvents=function(e){var i=this.pool.get(e);if(i)for(var n=0;n<i.length;n++)this.removeEvent(i[n]),n--;var s=this.pool.get(t.eventer);if(s)for(var o=s.filter(function(t){return t.thisobj==e}),a=void 0,l=0;l<o.length;l++){(a=o[l]).thisobj&&t.eventer.off(a.type,a.thisobj,a.listener);var r=s.indexOf(a);s.splice(r,1)}var h=this.pushPool.get(e);h&&(h.forEach(function(t){t.target.off(t.type,t.thisObj,t.callback)}),this.pushPool.remove(e))},t.prototype.clickHandler=function(t){var e=t.currentTarget,i=this.pool.get(e);i&&i.docallback(t)},t.prototype.onScaleTouch=function(t){var e=t.currentTarget,i=this.pool.get(e);if(i)switch(t.type){case Laya.Event.MOUSE_DOWN:i.isTapBegin=!0,this.downPos.setTo(t.stageX,t.stageY);var n=i.sclNum;i.isSetAlpha?Laya.Tween.to(e,{alpha:n},100):Laya.Tween.to(e,{scaleX:n,scaleY:n},100);break;case Laya.Event.MOUSE_OUT:i.isSetAlpha?Laya.Tween.to(e,{alpha:1},100):Laya.Tween.to(e,{scaleX:1,scaleY:1},100),i.isTapBegin=!1;break;case Laya.Event.MOUSE_UP:i.isSetAlpha?Laya.Tween.to(e,{alpha:1},100):Laya.Tween.to(e,{scaleX:1,scaleY:1},100);this.downPos.distance(t.stageX,t.stageY)<20&&i.isTapBegin&&i.docallback(t),i.isTapBegin=!1}},t.eventer=new Laya.EventDispatcher,t.delayClickTime=500,t}(),CustomObj=function(){function t(t,e,i,n,s,o,a){this.isTapBegin=!1,this.target=null,this.listener=null,this.thisobj=null,this.argObject=null,this.type=null,this.isclick=!0,this.target=t,this.listener=e,this.sclNum=s,this.isSetAlpha=o,this.thisobj=i,this.argObject=n,this.useClickRestrict=a}return t.prototype.docallback=function(t){!this.isclick&&this.useClickRestrict||this.thisobj&&this.listener&&(this.listener.call(this.thisobj,t,this.argObject),this.useClickRestrict&&(this.isclick=!1,Laya.timer.once(EventManager.delayClickTime,this,this.resetState)))},t.prototype.resetState=function(){this.isclick=!0},t.prototype.dispose=function(){Laya.timer.clear(this,this.resetState),this.target=null,this.listener=null,this.thisobj=null,this.argObject=null},t}(),EventType=function(){function t(){}return t.FLUSH_USERINFO="flushUserInfo",t.FLUSH_HEADICON="flushHeadIcon",t.LIFE_CYCLE="lifeCycle",t.GAMETOHALL="gameToHall",t.HALLTOGAME="hallToGame",t.BLUR_NATIVE="blurNative",t.GAME_UPDATE_INIT="gameUpdateInfo",t.GAME_UPDATE_PROGRESS="gameUpdateProgress",t.GETBINDAWARD_SUCC="getBindAwardSucc",t.GETUSER_CURRENT="getUserCurrent",t.BINDPHONE_INFO="bindPhoneInfo",t.GETUSERS_INFO="getUsersInfo",t.GETAVATOR_INFO="getAvatorInfo",t.FLUSH_MONEY="flushMoney",t.CHECK_UNREADMAIL="checkUnreadMail",t.GET_BACKCARD_DETAIL="getBankCardDetail",t.JUMP_GAME="jumpGame",t.FLUSH_YUEBAOINFO="flushYuebaoInfo",t.WeChatLogin="WeChatLogin",t.WeChatBind="WeChatBind",t.BALANCE_PADSETING="balancePwdSeting",t.BALANCE_DETAILIITEM_DESE="balanceDetailItemDese",t}();