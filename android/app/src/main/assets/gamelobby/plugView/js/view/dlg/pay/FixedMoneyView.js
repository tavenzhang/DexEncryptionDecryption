var view,__extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){!function(e){!function(e){var n=function(n){function r(){var t=n.call(this)||this;return t.itemArr=[],t.gap=0,t.btnArr=[],t.maxNum=12,t.centerX=0,t.centerY=0,t.initView(),t}return __extends(r,n),r.prototype.initView=function(){var t=this;this.itemPanel.hScrollBarSkin="",this.itemPanel.on(Laya.Event.CLICK,this,this.clickItem),EventManager.addTouchScaleListener(this.submitBtn,this,function(){SoundPlayer.clickSound(),t.prevBtn?PayManager.inst.startPay(t.prev.vo,t.prevBtn.value):Toast.showToast("请选择充值金额")})},r.prototype.clickItem=function(e){if(e.target instanceof t.dlg.pay.FixedMoneyItem){SoundPlayer.clickSound();var n=e.target;this.selectItem(n)}},r.prototype.selectItem=function(t){t.selected||(t.selected=!0,this.prev&&(this.prev.selected=!1),this.prev=t,this.creatMoneyBtn(t.vo.fixedAmount),this.infoTxt.text=t.vo.remarks||"---")},r.prototype.creatMoneyBtn=function(t){var n=this;if(this.recoverBtn(),t&&0!=t.length){var r;t.forEach(function(t,i){i<n.maxNum&&((r=Laya.Pool.getItem(PayModel.btnMark))||(r=new e.PayMoneyBtn),r.value=t,r.mouseEnabled=!0,r.x=i%4*(r.width+11),r.y=Math.floor(i/4)*(r.height+8),n.btnBox.addChild(r),n.btnArr.push(r),EventManager.addTouchScaleListener(r,n,n.btnClick,r,.6,!0))})}else console.error("没有配置常用金额数据")},r.prototype.recoverBtn=function(){this.prevBtn&&(this.prevBtn=null),this.btnArr.forEach(function(t){t.removeSelf(),Laya.Pool.recover(PayModel.btnMark,t)}),this.btnArr.length=0},r.prototype.btnClick=function(t,e){SoundPlayer.clickSound(),e.selected||(e.setSelect(!0),this.prevBtn&&this.prevBtn.setSelect(!1),this.prevBtn=e)},r.prototype.readData=function(e,n){var r=this;this.itemPanel.numChildren>0&&(this.itemPanel.destroyChildren(),this.itemPanel.refresh(),this.itemArr.length=0,this.prev=null),this.recoverBtn();var i;e.forEach(function(e,n){(i=new t.dlg.pay.FixedMoneyItem).mouseEnabled=!0,i.readData(e),i.x=n*(i.width+r.gap),r.itemPanel.addChild(i),r.itemArr.push(i),0==n&&r.selectItem(i)})},r.prototype.destroy=function(){this.recoverBtn(),n.prototype.destroy.call(this,!0)},r}(ui.dlg.pay.FixedMoneyViewUI);e.FixedMoneyView=n}(e.pay||(e.pay={}))}(t.dlg||(t.dlg={}))}(view||(view={}));